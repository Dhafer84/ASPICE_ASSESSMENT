<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Automotive SPICE ‚Äì Check-list d'√©valuation (PAM 4.0 ‚Äì Cible CL2)</title>
<style>
body {
  box-sizing: border-box;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: #F3F4F6;
  color: #111827;
  line-height: 1.6;
  margin: 0;
  padding: 20px;
}

.container {
  max-width: 1400px;
  margin: 0 auto;
  background: white;
  padding: 30px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  border-radius: 8px;
}

h1 {
  color: #0B3D91;
  font-size: 28px;
  margin-bottom: 10px;
  text-align: center;
}

.subtitle {
  text-align: center;
  color: #6B7280;
  margin-bottom: 30px;
  font-size: 14px;
}

.controls {
  display: flex;
  gap: 15px;
  margin-bottom: 25px;
  flex-wrap: wrap;
  align-items: center;
}

.controls button {
  padding: 10px 20px;
  background: #0B3D91;
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-weight: 600;
  font-size: 14px;
  transition: background 0.2s;
}

.controls button:hover {
  background: #083070;
}

.controls button.secondary {
  background: #6B7280;
}

.controls button.secondary:hover {
  background: #4B5563;
}

.toc {
  background: #F9FAFB;
  padding: 20px;
  border-radius: 8px;
  margin-bottom: 30px;
  border-left: 4px solid #0B3D91;
}

.toc h2 {
  color: #0B3D91;
  font-size: 18px;
  margin-bottom: 15px;
}

.toc-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 10px;
}

.toc a {
  color: #0B3D91;
  text-decoration: none;
  padding: 8px 12px;
  background: white;
  border-radius: 4px;
  display: block;
  transition: background 0.2s;
  font-size: 14px;
}

.toc a:hover {
  background: #E5E7EB;
}

.legend-box {
  background: #FEF3C7;
  border: 2px solid #F59E0B;
  border-radius: 8px;
  padding: 20px;
  margin-bottom: 30px;
}

.legend-box h3 {
  color: #92400E;
  margin-bottom: 15px;
  font-size: 16px;
}

.legend-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 15px;
  margin-bottom: 20px;
}

.legend-item {
  display: flex;
  align-items: start;
  gap: 10px;
}

.legend-badge {
  padding: 4px 10px;
  border-radius: 4px;
  font-weight: 700;
  font-size: 13px;
  min-width: 25px;
  text-align: center;
}

.legend-badge.n { background: #FEE2E2; color: #991B1B; }
.legend-badge.p { background: #FED7AA; color: #9A3412; }
.legend-badge.l { background: #FEF08A; color: #854D0E; }
.legend-badge.f { background: #D1FAE5; color: #065F46; }

.cl-rules {
  background: white;
  padding: 15px;
  border-radius: 6px;
  border-left: 4px solid #92400E;
}

.cl-rules h4 {
  color: #92400E;
  margin-bottom: 10px;
  font-size: 14px;
}

.cl-rules ul {
  list-style: none;
  padding-left: 0;
}

.cl-rules li {
  padding: 5px 0;
  font-size: 13px;
}

.process {
  margin-bottom: 30px;
}

details {
  border: 2px solid #D1D5DB;
  border-radius: 8px;
  overflow: hidden;
}

summary {
  background: #0B3D91;
  color: white;
  padding: 15px 20px;
  cursor: pointer;
  font-weight: 600;
  font-size: 16px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  user-select: none;
}

summary:hover {
  background: #083070;
}

.cl-badge {
  padding: 4px 12px;
  border-radius: 9999px;
  font-weight: 700;
  font-size: 13px;
}

.cl-badge.cl0 {
  background: #E5E7EB;
  color: #111827;
}

.cl-badge.cl1 {
  background: #F59E0B;
  color: white;
}

.cl-badge.cl2 {
  background: #10B981;
  color: white;
}

.process-content {
  padding: 20px;
}

.process-table {
  width: 100%;
  border-collapse: collapse;
  margin-bottom: 20px;
  font-size: 13px;
}

.process-table thead {
  background: #F3F4F6;
  position: sticky;
  top: 0;
  z-index: 10;
}

.process-table th {
  padding: 12px 8px;
  text-align: left;
  font-weight: 600;
  border: 1px solid #D1D5DB;
  color: #0B3D91;
}

.process-table td {
  padding: 10px 8px;
  border: 1px solid #E5E7EB;
  vertical-align: top;
}

.process-table tbody tr:nth-child(even) {
  background: #F9FAFB;
}

.process-table tbody tr:hover {
  background: #F3F4F6;
}

.bp-id {
  font-family: 'Courier New', monospace;
  font-weight: 700;
  color: #0B3D91;
  white-space: nowrap;
}

.pa-select {
  width: 100%;
  padding: 6px;
  border: 1px solid #D1D5DB;
  border-radius: 4px;
  font-size: 13px;
  background: white;
}

.synthesis {
  background: #EFF6FF;
  border: 2px solid #0B3D91;
  border-radius: 6px;
  padding: 15px;
  margin-top: 20px;
}

.synthesis h4 {
  color: #0B3D91;
  margin-bottom: 12px;
  font-size: 15px;
}

.synthesis-grid {
  display: grid;
  grid-template-columns: 200px 1fr;
  gap: 10px;
  align-items: center;
}

.synthesis-label {
  font-weight: 600;
  color: #374151;
}

.pa-global {
  display: inline-block;
  padding: 6px 12px;
  background: white;
  border: 2px solid #D1D5DB;
  border-radius: 4px;
  font-weight: 700;
  min-width: 40px;
  text-align: center;
}

.pa-global.n { background: #FEE2E2; border-color: #991B1B; color: #991B1B; }
.pa-global.p { background: #FED7AA; border-color: #9A3412; color: #9A3412; }
.pa-global.l { background: #FEF08A; border-color: #854D0E; color: #854D0E; }
.pa-global.f { background: #D1FAE5; border-color: #065F46; color: #065F46; }

@media print {
  body {
    background: white;
    padding: 0;
  }
  
  .container {
    box-shadow: none;
    padding: 10px;
  }
  
  .controls, .toc, .legend-box {
    display: none;
  }
  
  details {
    border: 1px solid #D1D5DB;
  }
  
  details[open] summary {
    page-break-after: avoid;
  }
  
  .process {
    page-break-inside: avoid;
  }
  
  .process-table {
    page-break-inside: avoid;
  }
  
  summary {
    background: #0B3D91 !important;
  }
}

@media screen and (max-width: 768px) {
  .synthesis-grid {
    grid-template-columns: 1fr;
  }
  
  .process-table {
    font-size: 11px;
  }
  
  .process-table th,
  .process-table td {
    padding: 6px 4px;
  }
}
/* === Commentaires globaux (page principale) === */
.global-comments-panel {
  margin-top: 2rem;
  padding: 1.5rem;
  border-radius: 0.75rem;
  border: 1px solid #E5E7EB;
  background: #F9FAFB;
}

.global-comments-panel h2 {
  margin-top: 0;
  margin-bottom: 0.5rem;
}

.global-comments-panel .help-text {
  font-size: 0.85rem;
  color: #6B7280;
  margin-bottom: 0.75rem;
}

#globalComments {
  width: 100%;
  border-radius: 0.5rem;
  border: 1px solid #D1D5DB;
  padding: 0.75rem;
  font-size: 0.9rem;
  resize: vertical;
  font-family: inherit;
  box-sizing: border-box;
}

</style> 
<!-- 1) EXPORT EXCEL: librairie SheetJS -->
<script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>

<!-- (facultatif) style rapide pour les boutons -->
<style>
  .toolbar { display:flex; gap:.5rem; flex-wrap:wrap; align-items:center; margin:8px 0; }
  .toolbar button, .toolbar label {
    background:#0B3D91; color:#fff; border:none; padding:.45rem .8rem; border-radius:.4rem; cursor:pointer;
  }
  .toolbar input[type="file"] { display:none; }
</style>

</head>
<body>
<div class="container">
  <h1>Automotive SPICE ‚Äì Check-list d'√©valuation</h1>
  <p class="subtitle">PAM 4.0 ‚Äì Cible CL2</p>
  
  <div class="controls">
    <button onclick="expandAll()">Tout d√©plier</button>
    <button onclick="collapseAll()" class="secondary">Tout replier</button>
    <button onclick="window.print()">üñ®Ô∏è Imprimer / Exporter PDF</button>
    <!-- 2) BARRE D‚ÄôACTIONS -->
<div id="controls" class="toolbar">
  <button type="button" onclick="exportToExcel()">üì• Exporter vers Excel</button>
  <button type="button" onclick="saveProgress()">üíæ Sauvegarder (local)</button>
  <button type="button" onclick="loadProgress()">üîÑ Recharger (local)</button>
 <button type="button" onclick="resetForm()">üßπ R√©initialiser</button>
<button type="button" onclick="exportAssessmentReport()">
  üìÑ Exporter la synth√®se PDF
</button>
  <!-- Export/Import JSON (optionnel mais pratique pour partager) -->
  <button type="button" onclick="exportJSON()">üì§ Export JSON</button>
  <label for="jsonFile">üì• Import JSON</label>
  <input id="jsonFile" type="file" accept="application/json" onchange="importJSON(event)">
</div>

  </div>
  
  <div class="toc">
    <h2>üìã Sommaire des processus</h2>
    <div class="toc-grid">
      <a href="#MAN3">MAN.3 Project Management</a>
      <a href="#SYS1">SYS.1 Requirements Elicitation</a>
      <a href="#SYS2">SYS.2 System Requirements Analysis</a>
      <a href="#SYS3">SYS.3 System Architectural Design</a>
      <a href="#SYS4">SYS.4 System Integration and Integration Test</a>
      <a href="#SYS5">SYS.5 System Qualification Test</a>
      <a href="#SWE1">SWE.1 Software Requirements Analysis</a>
      <a href="#SWE2">SWE.2 Software Architectural Design</a>
      <a href="#SWE3">SWE.3 Software Detailed Design and Unit Construction</a>
      <a href="#SWE4">SWE.4 Software Unit Verification</a>
      <a href="#SWE5">SWE.5 Software Integration and Integration Test</a>
      <a href="#SWE6">SWE.6 Software Qualification Test</a>
      <a href="#SUP1">SUP.1 Quality Assurance</a>
      <a href="#SUP8">SUP.8 Configuration Management</a>
      <a href="#SUP9">SUP.9 Problem Resolution Management</a>
      <a href="#SUP10">SUP.10 Change Request Management</a>
    </div>
  </div>
  
  <div class="legend-box">
    <h3>üìä L√©gende d'√©valuation</h3>
    <div class="legend-grid">
      <div class="legend-item">
        <span class="legend-badge f">F</span>
        <div><strong>Fully achieved:</strong> ‚â•85% de mise en ≈ìuvre, preuves compl√®tes et stables</div>
      </div>
      <div class="legend-item">
        <span class="legend-badge l">L</span>
        <div><strong>Largely achieved:</strong> 50-85%, √©carts mineurs</div>
      </div>
      <div class="legend-item">
        <span class="legend-badge p">P</span>
        <div><strong>Partially achieved:</strong> 15-50%, mise en ≈ìuvre incompl√®te/irr√©guli√®re</div>
      </div>
      <div class="legend-item">
        <span class="legend-badge n">N</span>
        <div><strong>Not achieved:</strong> <15%, peu/pas de preuves</div>
      </div>
    </div>
    
    <div class="cl-rules">
      <h4>üéØ R√®gles de calcul Capability Level</h4>
      <ul>
        <li><strong>CL1:</strong> PA1.1 ‚â• L</li>
        <li><strong>CL2:</strong> PA1.1 = F ET PA2.1 ‚â• L ET PA2.2 ‚â• L</li>
        <li><strong>CL0:</strong> Sinon (niveau inf√©rieur atteint)</li>
      </ul>
    </div>
  </div>

  <!-- Processus MAN.3 -->
  <section class="process" data-process="MAN.3" id="MAN3">
    <details>
      <summary>
        <span>MAN.3 Project Management</span>
        <span class="cl-badge cl0">CL0</span>
      </summary>
      <div class="process-content">
        <table class="process-table">
          <thead>
            <tr>
              <th style="width: 80px;">BP</th>
              <th style="width: 20%;">Base Practice</th>
              <th style="width: 25%;">Questions d'audit</th>
              <th style="width: 25%;">√âvidences attendues</th>
              <th style="width: 70px;">PA1.1</th>
              <th style="width: 70px;">PA2.1</th>
              <th style="width: 70px;">PA2.2</th>
              <th>Commentaire</th>
            </tr>
          </thead>
          <tbody>
            <!-- Contenu √† ajouter -->
             <tr><td>BP1</td><td>D√©finir p√©rim√®tre & objectifs</td><td>Comment Q/C/D ont-ils √©t√© d√©finis et valid√©s ?</td><td>Project Charter, SOW, QCD dashboard</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
             <tr><td>BP2</td><td>Planifier les activit√©s</td><td>Comment planifiez-vous jalons, d√©pendances et MAJ ?</td><td>Gantt, Sprint/Release plan</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
             <tr><td>BP3</td><td>Ressources & r√¥les</td><td>Ressources suffisantes ? RACI clair ? Acc√®s outils ?</td><td>RACI, Staffing plan, Onboarding</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
             <tr><td>BP4</td><td>Suivi d‚Äôavancement</td><td>Comment suivez-vous et agissez sur les d√©rives ?</td><td>Status report, KPI, burndown</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
             <tr><td>BP5</td><td>Risques & opportunit√©s</td><td>Identification, √©valuation, mitigation, revue p√©riodique ?</td><td>Risk register, plans d‚Äôatt√©nuation</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
             <tr><td>BP6</td><td>D√©cisions & probl√®mes</td><td>Traitement des probl√®mes, RCA, d√©cisions trac√©es ?</td><td>Action tracker, 8D/5Why, MoM</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
             <tr><td>BP7</td><td>Communication</td><td>Fr√©quence, formats, tra√ßabilit√© des √©changes ?</td><td>SteerCo MoM, mails, dashboards</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>

          </tbody>
        </table>
        
        <div class="synthesis">
          <h4>üìà Synth√®se du processus MAN.3</h4>
          <div class="synthesis-grid">
            <span class="synthesis-label">PA1.1 Global</span>
            <span class="pa-global" data-pa="PA11">‚Äî</span>
            <span class="synthesis-label">PA2.1 Global</span>
            <span class="pa-global" data-pa="PA21">‚Äî</span>
            <span class="synthesis-label">PA2.2 Global</span>
            <span class="pa-global" data-pa="PA22">‚Äî</span>
            <span class="synthesis-label">Capability Level atteint</span>
            <span class="pa-global cl-result">CL0</span>
          </div>
        </div>
      </div>
    </details>
  </section>

  <!-- Processus SYS.1 -->
  <section class="process" data-process="SYS.1" id="SYS1">
    <details>
      <summary>
        <span>SYS.1 Requirements Elicitation</span>
        <span class="cl-badge cl0">CL0</span>
      </summary>
      <div class="process-content">
        <table class="process-table">
          <thead>
            <tr>
              <th style="width: 80px;">BP</th>
              <th style="width: 20%;">Base Practice</th>
              <th style="width: 25%;">Questions d'audit</th>
              <th style="width: 25%;">√âvidences attendues</th>
              <th style="width: 70px;">PA1.1</th>
              <th style="width: 70px;">PA2.1</th>
              <th style="width: 70px;">PA2.2</th>
              <th>Commentaire</th>
            </tr>
          </thead>
          <tbody>
            <!-- Contenu √† ajouter -->
             <tr><td>BP1</td><td>Identifier parties prenantes</td><td>Comment identifiez-vous toutes les parties prenantes et r√¥les ?</td><td>Liste stakeholders, RACI</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP2</td><td>Collecter besoins</td><td>M√©thodes (ateliers, interviews, RFQ) ? Implicite/explicite ?</td><td>CR ateliers, backlog</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP3</td><td>Clarifier attentes</td><td>Comment traitez-vous ambigu√Øt√©s/incoh√©rences/faisabilit√© ?</td><td>Q&A log, analyses</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP4</td><td>Formaliser & approuver</td><td>Comment les besoins sont-ils document√©s et approuv√©s ?</td><td>StRS, signatures</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP5</td><td>Diffuser & maintenir</td><td>Comment diffusez-vous exigences et changements ?</td><td>Confluence, CR diffusion</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>

          </tbody>
        </table>
        
        <div class="synthesis">
          <h4>üìà Synth√®se du processus SYS.1</h4>
          <div class="synthesis-grid">
            <span class="synthesis-label">PA1.1 Global</span>
            <span class="pa-global" data-pa="PA11">‚Äî</span>
            <span class="synthesis-label">PA2.1 Global</span>
            <span class="pa-global" data-pa="PA21">‚Äî</span>
            <span class="synthesis-label">PA2.2 Global</span>
            <span class="pa-global" data-pa="PA22">‚Äî</span>
            <span class="synthesis-label">Capability Level atteint</span>
            <span class="pa-global cl-result">CL0</span>
          </div>
        </div>
      </div>
    </details>
  </section>

  <!-- Processus SYS.2 -->
  <section class="process" data-process="SYS.2" id="SYS2">
    <details>
      <summary>
        <span>SYS.2 System Requirements Analysis</span>
        <span class="cl-badge cl0">CL0</span>
      </summary>
      <div class="process-content">
        <table class="process-table">
          <thead>
            <tr>
              <th style="width: 80px;">BP</th>
              <th style="width: 20%;">Base Practice</th>
              <th style="width: 25%;">Questions d'audit</th>
              <th style="width: 25%;">√âvidences attendues</th>
              <th style="width: 70px;">PA1.1</th>
              <th style="width: 70px;">PA2.1</th>
              <th style="width: 70px;">PA2.2</th>
              <th>Commentaire</th>
            </tr>
          </thead>
          <tbody>
            <!-- Contenu √† ajouter -->
             <tr><td>BP1</td><td>D√©river du Stakeholder</td><td>Comment d√©rivez-vous System Req depuis Stakeholder Req ?</td><td>SRS/SRD, tra√ßabilit√©</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP2</td><td>Structurer exigences</td><td>Organisation par cat√©gories (fonctionnel, perf, s√ªret√©‚Ä¶) ?</td><td>Structure SRS</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP3</td><td>Analyser coh√©rence/faisabilit√©</td><td>Revue ambigu√Øt√©s/conflits/d√©cisions trac√©es ?</td><td>CR revues, justifs</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP4</td><td>Interfaces syst√®me</td><td>Comment documentez-vous interfaces internes/externes ?</td><td>ICD, matrices interfaces</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP5</td><td>Tra√ßabilit√© bi-directionnelle</td><td>Tra√ßabilit√© Stakeholder‚ÜîSystem compl√®te et √† jour ?</td><td>Matrice DOORS/Polarion</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP6</td><td>Communication</td><td>Comment partagez-vous aux √©quipes SW/HW/Test ?</td><td>Walkthrough, CR diffusion</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>

          </tbody>
        </table>
        
        <div class="synthesis">
          <h4>üìà Synth√®se du processus SYS.2</h4>
          <div class="synthesis-grid">
            <span class="synthesis-label">PA1.1 Global</span>
            <span class="pa-global" data-pa="PA11">‚Äî</span>
            <span class="synthesis-label">PA2.1 Global</span>
            <span class="pa-global" data-pa="PA21">‚Äî</span>
            <span class="synthesis-label">PA2.2 Global</span>
            <span class="pa-global" data-pa="PA22">‚Äî</span>
            <span class="synthesis-label">Capability Level atteint</span>
            <span class="pa-global cl-result">CL0</span>
          </div>
        </div>
      </div>
    </details>
  </section>

  <!-- Processus SYS.3 -->
  <section class="process" data-process="SYS.3" id="SYS3">
    <details>
      <summary>
        <span>SYS.3 System Architectural Design</span>
        <span class="cl-badge cl0">CL0</span>
      </summary>
      <div class="process-content">
        <table class="process-table">
          <thead>
            <tr>
              <th style="width: 80px;">BP</th>
              <th style="width: 20%;">Base Practice</th>
              <th style="width: 25%;">Questions d'audit</th>
              <th style="width: 25%;">√âvidences attendues</th>
              <th style="width: 70px;">PA1.1</th>
              <th style="width: 70px;">PA2.1</th>
              <th style="width: 70px;">PA2.2</th>
              <th>Commentaire</th>
            </tr>
          </thead>
          <tbody>
            <!-- Contenu √† ajouter -->
             <tr><td>BP1</td><td>Aspects statiques</td><td>√âl√©ments, responsabilit√©s, structure claire ?</td><td>SAD, block diagrams</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP2</td><td>Aspects dynamiques</td><td>Interactions, modes, s√©quences, √©tats d√©finis ?</td><td>S√©quences, statecharts</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP3</td><td>Justifier les choix</td><td>Crit√®res (perf, safety, co√ªt), alternatives compar√©es ?</td><td>Matrice choix, CR revues</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP4</td><td>Coh√©rence & tra√ßabilit√©</td><td>Tra√ßabilit√© Req‚ÜîFonctions‚Üî√âl√©ments ? MAJ au changement ?</td><td>Matrices, baselines</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP5</td><td>Communication</td><td>Comment l‚Äôarchitecture est-elle expliqu√©e et revue ?</td><td>Revues, pr√©sentations</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>

          </tbody>
        </table>
        
        <div class="synthesis">
          <h4>üìà Synth√®se du processus SYS.3</h4>
          <div class="synthesis-grid">
            <span class="synthesis-label">PA1.1 Global</span>
            <span class="pa-global" data-pa="PA11">‚Äî</span>
            <span class="synthesis-label">PA2.1 Global</span>
            <span class="pa-global" data-pa="PA21">‚Äî</span>
            <span class="synthesis-label">PA2.2 Global</span>
            <span class="pa-global" data-pa="PA22">‚Äî</span>
            <span class="synthesis-label">Capability Level atteint</span>
            <span class="pa-global cl-result">CL0</span>
          </div>
        </div>
      </div>
    </details>
  </section>

  <!-- Processus SYS.4 -->
  <section class="process" data-process="SYS.4" id="SYS4">
    <details>
      <summary>
        <span>SYS.4 System Integration and Integration Test</span>
        <span class="cl-badge cl0">CL0</span>
      </summary>
      <div class="process-content">
        <table class="process-table">
          <thead>
            <tr>
              <th style="width: 80px;">BP</th>
              <th style="width: 20%;">Base Practice</th>
              <th style="width: 25%;">Questions d'audit</th>
              <th style="width: 25%;">√âvidences attendues</th>
              <th style="width: 70px;">PA1.1</th>
              <th style="width: 70px;">PA2.1</th>
              <th style="width: 70px;">PA2.2</th>
              <th>Commentaire</th>
            </tr>
          </thead>
          <tbody>
            <!-- Contenu √† ajouter -->
             <tr><td>BP1</td><td>Strat√©gie d‚Äôint√©gration</td><td>Approche par √©tapes, d√©pendances, crit√®res ?</td><td>SIP, ordre d‚Äôassemblage</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP2</td><td>Pr√©parer environnement</td><td>Moyens/bancs/configs valid√©s et trac√©s ?</td><td>Versions, BOM, fiches banc</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP3</td><td>Ex√©cuter int√©gration</td><td>Proc√©dures, enregistrements, d√©cisions ?</td><td>Logs, rapports int√©gration</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP4</td><td>R√©soudre probl√®mes</td><td>D√©tection, RCA, correction, re-test ?</td><td>Tickets, 8D/RCA</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP5</td><td>Tra√ßabilit√© int√©gration</td><td>Versions/configs/r√©sultats identifi√©s ?</td><td>Baselines, releases</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>

          </tbody>
        </table>
        
        <div class="synthesis">
          <h4>üìà Synth√®se du processus SYS.4</h4>
          <div class="synthesis-grid">
            <span class="synthesis-label">PA1.1 Global</span>
            <span class="pa-global" data-pa="PA11">‚Äî</span>
            <span class="synthesis-label">PA2.1 Global</span>
            <span class="pa-global" data-pa="PA21">‚Äî</span>
            <span class="synthesis-label">PA2.2 Global</span>
            <span class="pa-global" data-pa="PA22">‚Äî</span>
            <span class="synthesis-label">Capability Level atteint</span>
            <span class="pa-global cl-result">CL0</span>
          </div>
        </div>
      </div>
    </details>
  </section>

  <!-- Processus SYS.5 -->
  <section class="process" data-process="SYS.5" id="SYS5">
    <details>
      <summary>
        <span>SYS.5 System Qualification Test</span>
        <span class="cl-badge cl0">CL0</span>
      </summary>
      <div class="process-content">
        <table class="process-table">
          <thead>
            <tr>
              <th style="width: 80px;">BP</th>
              <th style="width: 20%;">Base Practice</th>
              <th style="width: 25%;">Questions d'audit</th>
              <th style="width: 25%;">√âvidences attendues</th>
              <th style="width: 70px;">PA1.1</th>
              <th style="width: 70px;">PA2.1</th>
              <th style="width: 70px;">PA2.2</th>
              <th>Commentaire</th>
            </tr>
          </thead>
          <tbody>
            <!-- Contenu √† ajouter -->
             <tr><td>BP1</td><td>Strat√©gie v√©rif</td><td>Alignement exigences, types de tests, crit√®res acceptance ?</td><td>SVP, matrice</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP2</td><td>Environnement de test</td><td>Bancs/simulateurs/cibles valid√©s et versionn√©s ?</td><td>Fiches calibration, versions</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP3</td><td>Sp√©cifier & ex√©cuter</td><td>Cas de tests tra√ßables, r√©sultats horodat√©s ?</td><td>Plans, rapports, logs</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP4</td><td>Traiter √©carts</td><td>RCA, correction, re-test, d√©cision ?</td><td>Tickets, re-test</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP5</td><td>Couverture exigences</td><td>Couverture de toutes exigences syst√®me ?</td><td>Matrice de couverture</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>

          </tbody>
        </table>
        
        <div class="synthesis">
          <h4>üìà Synth√®se du processus SYS.5</h4>
          <div class="synthesis-grid">
            <span class="synthesis-label">PA1.1 Global</span>
            <span class="pa-global" data-pa="PA11">‚Äî</span>
            <span class="synthesis-label">PA2.1 Global</span>
            <span class="pa-global" data-pa="PA21">‚Äî</span>
            <span class="synthesis-label">PA2.2 Global</span>
            <span class="pa-global" data-pa="PA22">‚Äî</span>
            <span class="synthesis-label">Capability Level atteint</span>
            <span class="pa-global cl-result">CL0</span>
          </div>
        </div>
      </div>
    </details>
  </section>

  <!-- Processus SWE.1 -->
  <section class="process" data-process="SWE.1" id="SWE1">
    <details>
      <summary>
        <span>SWE.1 Software Requirements Analysis</span>
        <span class="cl-badge cl0">CL0</span>
      </summary>
      <div class="process-content">
        <table class="process-table">
          <thead>
            <tr>
              <th style="width: 80px;">BP</th>
              <th style="width: 20%;">Base Practice</th>
              <th style="width: 25%;">Questions d'audit</th>
              <th style="width: 25%;">√âvidences attendues</th>
              <th style="width: 70px;">PA1.1</th>
              <th style="width: 70px;">PA2.1</th>
              <th style="width: 70px;">PA2.2</th>
              <th>Commentaire</th>
            </tr>
          </thead>
          <tbody>
            <!-- Contenu √† ajouter -->
             <tr><td>BP1</td><td>D√©river des Sys Req</td><td>Tra√ßabilit√© System‚ÜíSW, testabilit√© ?</td><td>SRS-SW, tables d√©rivation</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP2</td><td>Coh√©rence/compl√©tude</td><td>Revue formelle, ambigu√Øt√©s, faisabilit√© ?</td><td>CR revues, commentaires</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP3</td><td>Interfaces SW</td><td>APIs/.h/protocoles document√©s et versionn√©s ?</td><td>ICD/IDD, headers, API</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP4</td><td>Contraintes NFR</td><td>Temps r√©el, safety, CPU/m√©moire ?</td><td>Listes contraintes, analyses</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP5</td><td>Tra√ßabilit√© & change</td><td>Impact sur design/tests, historique √† jour ?</td><td>Matrices, change log</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>

          </tbody>
        </table>
        
        <div class="synthesis">
          <h4>üìà Synth√®se du processus SWE.1</h4>
          <div class="synthesis-grid">
            <span class="synthesis-label">PA1.1 Global</span>
            <span class="pa-global" data-pa="PA11">‚Äî</span>
            <span class="synthesis-label">PA2.1 Global</span>
            <span class="pa-global" data-pa="PA21">‚Äî</span>
            <span class="synthesis-label">PA2.2 Global</span>
            <span class="pa-global" data-pa="PA22">‚Äî</span>
            <span class="synthesis-label">Capability Level atteint</span>
            <span class="pa-global cl-result">CL0</span>
          </div>
        </div>
      </div>
    </details>
  </section>

  <!-- Processus SWE.2 -->
  <section class="process" data-process="SWE.2" id="SWE2">
    <details>
      <summary>
        <span>SWE.2 Software Architectural Design</span>
        <span class="cl-badge cl0">CL0</span>
      </summary>
      <div class="process-content">
        <table class="process-table">
          <thead>
            <tr>
              <th style="width: 80px;">BP</th>
              <th style="width: 20%;">Base Practice</th>
              <th style="width: 25%;">Questions d'audit</th>
              <th style="width: 25%;">√âvidences attendues</th>
              <th style="width: 70px;">PA1.1</th>
              <th style="width: 70px;">PA2.1</th>
              <th style="width: 70px;">PA2.2</th>
              <th>Commentaire</th>
            </tr>
          </thead>
          <tbody>
            <!-- Contenu √† ajouter -->
             <tr><td>BP1</td><td>D√©finir archi SW</td><td>Couches/composants/interactions ?</td><td>SAD-SW, diagrammes</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP2</td><td>Allocation exigences</td><td>Mapping fonctions‚Üîmodules ?</td><td>Matrice allocation</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP3</td><td>Interfaces internes</td><td>APIs, types, threads/messages ?</td><td>IDD, headers</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP4</td><td>D√©cisions techniques</td><td>Justifications (perf, safety, maint.) ?</td><td>Matrice choix, CR</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP5</td><td>Coh√©rence & tra√ßabilit√©</td><td>Tra√ßabilit√© Req‚ÜîModules‚ÜîInterfaces ?</td><td>Matrices, baselines</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>

          </tbody>
        </table>
        
        <div class="synthesis">
          <h4>üìà Synth√®se du processus SWE.2</h4>
          <div class="synthesis-grid">
            <span class="synthesis-label">PA1.1 Global</span>
            <span class="pa-global" data-pa="PA11">‚Äî</span>
            <span class="synthesis-label">PA2.1 Global</span>
            <span class="pa-global" data-pa="PA21">‚Äî</span>
            <span class="synthesis-label">PA2.2 Global</span>
            <span class="pa-global" data-pa="PA22">‚Äî</span>
            <span class="synthesis-label">Capability Level atteint</span>
            <span class="pa-global cl-result">CL0</span>
          </div>
        </div>
      </div>
    </details>
  </section>

  <!-- Processus SWE.3 -->
  <section class="process" data-process="SWE.3" id="SWE3">
    <details>
      <summary>
        <span>SWE.3 Software Detailed Design and Unit Construction</span>
        <span class="cl-badge cl0">CL0</span>
      </summary>
      <div class="process-content">
        <table class="process-table">
          <thead>
            <tr>
              <th style="width: 80px;">BP</th>
              <th style="width: 20%;">Base Practice</th>
              <th style="width: 25%;">Questions d'audit</th>
              <th style="width: 25%;">√âvidences attendues</th>
              <th style="width: 70px;">PA1.1</th>
              <th style="width: 70px;">PA2.1</th>
              <th style="width: 70px;">PA2.2</th>
              <th>Commentaire</th>
            </tr>
          </thead>
          <tbody>
            <!-- Contenu √† ajouter -->
             <tr><td>BP1</td><td>Comportement unit√©s</td><td>Pseudo-code, √©tats/s√©quences, alignement archi ?</td><td>DDD, diagrammes</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP2</td><td>Interfaces unitaires</td><td>Param√®tres E/S, types, contrats ?</td><td>Headers, API doc</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP3</td><td>Contraintes & ressources</td><td>WCET, m√©moire, safety ?</td><td>Analyses, budgets</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP4</td><td>Structures de donn√©es</td><td>D√©finition & protections (overflow, tailles) ?</td><td>Code/diagrammes</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP5</td><td>Coh√©rence & tra√ßabilit√©</td><td>Alignement avec SRS-SW et archi SW ?</td><td>Matrices, CR</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>

          </tbody>
        </table>
        
        <div class="synthesis">
          <h4>üìà Synth√®se du processus SWE.3</h4>
          <div class="synthesis-grid">
            <span class="synthesis-label">PA1.1 Global</span>
            <span class="pa-global" data-pa="PA11">‚Äî</span>
            <span class="synthesis-label">PA2.1 Global</span>
            <span class="pa-global" data-pa="PA21">‚Äî</span>
            <span class="synthesis-label">PA2.2 Global</span>
            <span class="pa-global" data-pa="PA22">‚Äî</span>
            <span class="synthesis-label">Capability Level atteint</span>
            <span class="pa-global cl-result">CL0</span>
          </div>
        </div>
      </div>
    </details>
  </section>

  <!-- Processus SWE.4 -->
  <section class="process" data-process="SWE.4" id="SWE4">
    <details>
      <summary>
        <span>SWE.4 Software Unit Verification</span>
        <span class="cl-badge cl0">CL0</span>
      </summary>
      <div class="process-content">
        <table class="process-table">
          <thead>
            <tr>
              <th style="width: 80px;">BP</th>
              <th style="width: 20%;">Base Practice</th>
              <th style="width: 25%;">Questions d'audit</th>
              <th style="width: 25%;">√âvidences attendues</th>
              <th style="width: 70px;">PA1.1</th>
              <th style="width: 70px;">PA2.1</th>
              <th style="width: 70px;">PA2.2</th>
              <th>Commentaire</th>
            </tr>
          </thead>
          <tbody>
            <!-- Contenu √† ajouter -->
             <tr><td>BP1</td><td>Impl√©menter selon design</td><td>Conformit√© code ‚Üî design ?</td><td>Mapping, revues</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP2</td><td>R√®gles de codage</td><td>MISRA/CERT/outils, waivers justifi√©s ?</td><td>Rapports statiques, waivers</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP3</td><td>Analyse statique</td><td>Outils, seuils, corrections trac√©es ?</td><td>LDRA/Coverity/Sonar</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP4</td><td>Tests unitaires</td><td>Par unit√©, auto, rejouables, versionn√©s ?</td><td>Frameworks, logs</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP5</td><td>D√©fauts TU</td><td>Enregistrement, correction, re-test ?</td><td>Tickets, CI/CD</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>

          </tbody>
        </table>
        
        <div class="synthesis">
          <h4>üìà Synth√®se du processus SWE.4</h4>
          <div class="synthesis-grid">
            <span class="synthesis-label">PA1.1 Global</span>
            <span class="pa-global" data-pa="PA11">‚Äî</span>
            <span class="synthesis-label">PA2.1 Global</span>
            <span class="pa-global" data-pa="PA21">‚Äî</span>
            <span class="synthesis-label">PA2.2 Global</span>
            <span class="pa-global" data-pa="PA22">‚Äî</span>
            <span class="synthesis-label">Capability Level atteint</span>
            <span class="pa-global cl-result">CL0</span>
          </div>
        </div>
      </div>
    </details>
  </section>

  <!-- Processus SWE.5 -->
  <section class="process" data-process="SWE.5" id="SWE5">
    <details>
      <summary>
        <span>SWE.5 Software Integration and Integration Test</span>
        <span class="cl-badge cl0">CL0</span>
      </summary>
      <div class="process-content">
        <table class="process-table">
          <thead>
            <tr>
              <th style="width: 80px;">BP</th>
              <th style="width: 20%;">Base Practice</th>
              <th style="width: 25%;">Questions d'audit</th>
              <th style="width: 25%;">√âvidences attendues</th>
              <th style="width: 70px;">PA1.1</th>
              <th style="width: 70px;">PA2.1</th>
              <th style="width: 70px;">PA2.2</th>
              <th>Commentaire</th>
            </tr>
          </thead>
          <tbody>
            <!-- Contenu √† ajouter -->
             <tr><td>BP1</td><td>Strat√©gie int√©gration SW</td><td>Approche, d√©pendances, crit√®res √©tape ?</td><td>SIP-SW, planning</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP2</td><td>Environnement int√©gration</td><td>Branching/build/toolchains/config ?</td><td>CMake/Make, Gitflow</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP3</td><td>R√©aliser int√©gration</td><td>√âtapes suivies, CI/CD, logs ?</td><td>Pipelines, rapports</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP4</td><td>Tests int√©gration SW</td><td>Automatis√©s, tra√ßables, couverture ?</td><td>Scripts, matrices</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP5</td><td>D√©fauts int√©gration</td><td>Ticket, RCA, correction, re-test ?</td><td>JIRA, CR retest</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>

          </tbody>
        </table>
        
        <div class="synthesis">
          <h4>üìà Synth√®se du processus SWE.5</h4>
          <div class="synthesis-grid">
            <span class="synthesis-label">PA1.1 Global</span>
            <span class="pa-global" data-pa="PA11">‚Äî</span>
            <span class="synthesis-label">PA2.1 Global</span>
            <span class="pa-global" data-pa="PA21">‚Äî</span>
            <span class="synthesis-label">PA2.2 Global</span>
            <span class="pa-global" data-pa="PA22">‚Äî</span>
            <span class="synthesis-label">Capability Level atteint</span>
            <span class="pa-global cl-result">CL0</span>
          </div>
        </div>
      </div>
    </details>
  </section>

  <!-- Processus SWE.6 -->
  <section class="process" data-process="SWE.6" id="SWE6">
    <details>
      <summary>
        <span>SWE.6 Software Qualification Test</span>
        <span class="cl-badge cl0">CL0</span>
      </summary>
      <div class="process-content">
        <table class="process-table">
          <thead>
            <tr>
              <th style="width: 80px;">BP</th>
              <th style="width: 20%;">Base Practice</th>
              <th style="width: 25%;">Questions d'audit</th>
              <th style="width: 25%;">√âvidences attendues</th>
              <th style="width: 70px;">PA1.1</th>
              <th style="width: 70px;">PA2.1</th>
              <th style="width: 70px;">PA2.2</th>
              <th>Commentaire</th>
            </tr>
          </thead>
          <tbody>
            <!-- Contenu √† ajouter -->
             <tr><td>BP1</td><td>Strat√©gie tests SW</td><td>Couverture exigences, crit√®res acceptance ?</td><td>Strat√©gie test SW</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP2</td><td>Environnement de test</td><td>Repr√©sentativit√©, version, calibration ?</td><td>Fiches env.</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP3</td><td>Concevoir cas de test</td><td>Tra√ßables aux exigences SW ?</td><td>Plans/TC</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP4</td><td>Ex√©cuter tests SW</td><td>Auto/manu, r√©sultats horodat√©s ?</td><td>Logs, rapports</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP5</td><td>G√©rer anomalies SW</td><td>Ticket‚Üícorrection‚Üíre-test ?</td><td>Tickets, re-tests</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP6</td><td>Couverture exigences SW</td><td>100% des exigences SW test√©es ?</td><td>Matrices de couverture</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>

          </tbody>
        </table>
        
        <div class="synthesis">
          <h4>üìà Synth√®se du processus SWE.6</h4>
          <div class="synthesis-grid">
            <span class="synthesis-label">PA1.1 Global</span>
            <span class="pa-global" data-pa="PA11">‚Äî</span>
            <span class="synthesis-label">PA2.1 Global</span>
            <span class="pa-global" data-pa="PA21">‚Äî</span>
            <span class="synthesis-label">PA2.2 Global</span>
            <span class="pa-global" data-pa="PA22">‚Äî</span>
            <span class="synthesis-label">Capability Level atteint</span>
            <span class="pa-global cl-result">CL0</span>
          </div>
        </div>
      </div>
    </details>
  </section>

  <!-- Processus SUP.1 -->
  <section class="process" data-process="SUP.1" id="SUP1">
    <details>
      <summary>
        <span>SUP.1 Quality Assurance</span>
        <span class="cl-badge cl0">CL0</span>
      </summary>
      <div class="process-content">
        <table class="process-table">
          <thead>
            <tr>
              <th style="width: 80px;">BP</th>
              <th style="width: 20%;">Base Practice</th>
              <th style="width: 25%;">Questions d'audit</th>
              <th style="width: 25%;">√âvidences attendues</th>
              <th style="width: 70px;">PA1.1</th>
              <th style="width: 70px;">PA2.1</th>
              <th style="width: 70px;">PA2.2</th>
              <th>Commentaire</th>
            </tr>
          </thead>
          <tbody>
            <!-- Contenu √† ajouter -->
             <tr><td>BP1</td><td>Identifier & documenter</td><td>O√π/comment enregistr√©es ?</td><td>Base reqs (DOORS/Polarion‚Ä¶)</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP2</td><td>Tra√ßabilit√©</td><td>Stakeholder‚ÜíSystem‚ÜíSW‚ÜíTests √† jour ?</td><td>Matrices</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP3</td><td>Analyse d‚Äôimpact</td><td>Impact change sur archi/design/tests ?</td><td>CR/Analyses</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP4</td><td>Communication</td><td>Notification changements ?</td><td>Mails/CR</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP5</td><td>Qualit√© des exigences</td><td>Non ambigu√´s, testables, coh√©rentes ?</td><td>Checklists, revues</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>

          </tbody>
        </table>
        
        <div class="synthesis">
          <h4>üìà Synth√®se du processus SUP.1</h4>
          <div class="synthesis-grid">
            <span class="synthesis-label">PA1.1 Global</span>
            <span class="pa-global" data-pa="PA11">‚Äî</span>
            <span class="synthesis-label">PA2.1 Global</span>
            <span class="pa-global" data-pa="PA21">‚Äî</span>
            <span class="synthesis-label">PA2.2 Global</span>
            <span class="pa-global" data-pa="PA22">‚Äî</span>
            <span class="synthesis-label">Capability Level atteint</span>
            <span class="pa-global cl-result">CL0</span>
          </div>
        </div>
      </div>
    </details>
  </section>

  <!-- Processus SUP.8 -->
  <section class="process" data-process="SUP.8" id="SUP8">
    <details>
      <summary>
        <span>SUP.8 Configuration Management</span>
        <span class="cl-badge cl0">CL0</span>
      </summary>
      <div class="process-content">
        <table class="process-table">
          <thead>
            <tr>
              <th style="width: 80px;">BP</th>
              <th style="width: 20%;">Base Practice</th>
              <th style="width: 25%;">Questions d'audit</th>
              <th style="width: 25%;">√âvidences attendues</th>
              <th style="width: 70px;">PA1.1</th>
              <th style="width: 70px;">PA2.1</th>
              <th style="width: 70px;">PA2.2</th>
              <th>Commentaire</th>
            </tr>
          </thead>
          <tbody>
            <!-- Contenu √† ajouter -->
             <tr><td>BP1</td><td>Identifier items config</td><td>CIL compl√®te (code, docs, bins, envs) ?</td><td>CIL</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP2</td><td>R√®gles de versions</td><td>Num√©rotation, branches, tags ?</td><td>Proc√©dure CM</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP3</td><td>Contr√¥le acc√®s/modif</td><td>MR/PR, droits, historique ?</td><td>Logs Git</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP4</td><td>Baselines</td><td>Versions officielles tagu√©es/archiv√©es ?</td><td>Tags, releases</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP5</td><td>Stockage & protection</td><td>D√©p√¥ts, backups, r√©tention ?</td><td>Politiques/plan backup</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>

          </tbody>
        </table>
        
        <div class="synthesis">
          <h4>üìà Synth√®se du processus SUP.8</h4>
          <div class="synthesis-grid">
            <span class="synthesis-label">PA1.1 Global</span>
            <span class="pa-global" data-pa="PA11">‚Äî</span>
            <span class="synthesis-label">PA2.1 Global</span>
            <span class="pa-global" data-pa="PA21">‚Äî</span>
            <span class="synthesis-label">PA2.2 Global</span>
            <span class="pa-global" data-pa="PA22">‚Äî</span>
            <span class="synthesis-label">Capability Level atteint</span>
            <span class="pa-global cl-result">CL0</span>
          </div>
        </div>
      </div>
    </details>
  </section>

  <!-- Processus SUP.9 -->
  <section class="process" data-process="SUP.9" id="SUP9">
    <details>
      <summary>
        <span>SUP.9 Problem Resolution Management</span>
        <span class="cl-badge cl0">CL0</span>
      </summary>
      <div class="process-content">
        <table class="process-table">
          <thead>
            <tr>
              <th style="width: 80px;">BP</th>
              <th style="width: 20%;">Base Practice</th>
              <th style="width: 25%;">Questions d'audit</th>
              <th style="width: 25%;">√âvidences attendues</th>
              <th style="width: 70px;">PA1.1</th>
              <th style="width: 70px;">PA2.1</th>
              <th style="width: 70px;">PA2.2</th>
              <th>Commentaire</th>
            </tr>
          </thead>
          <tbody>
            <!-- Contenu √† ajouter -->
             <tr><td>BP1</td><td>Enregistrer CR</td><td>Outil, ID unique, workflow ?</td><td>Tickets CR</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP2</td><td>Analyser l‚Äôimpact</td><td>Exigences/archi/planning/co√ªt/tests ?</td><td>Impact analysis</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP3</td><td>D√©cider & approuver</td><td>Qui valide, d√©cision trac√©e ?</td><td>MoM/approbations</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP4</td><td>Mettre √† jour artefacts</td><td>Re-baseline exigences/design/tests ?</td><td>Versions, matrices MAJ</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP5</td><td>Diffuser le changement</td><td>Notifications / synchronisation √©quipes ?</td><td>CR/mails</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>

          </tbody>
        </table>
        
        <div class="synthesis">
          <h4>üìà Synth√®se du processus SUP.9</h4>
          <div class="synthesis-grid">
            <span class="synthesis-label">PA1.1 Global</span>
            <span class="pa-global" data-pa="PA11">‚Äî</span>
            <span class="synthesis-label">PA2.1 Global</span>
            <span class="pa-global" data-pa="PA21">‚Äî</span>
            <span class="synthesis-label">PA2.2 Global</span>
            <span class="pa-global" data-pa="PA22">‚Äî</span>
            <span class="synthesis-label">Capability Level atteint</span>
            <span class="pa-global cl-result">CL0</span>
          </div>
        </div>
      </div>
    </details>
  </section>

  <!-- Processus SUP.10 -->
  <section class="process" data-process="SUP.10" id="SUP10">
    <details>
      <summary>
        <span>SUP.10 Change Request Management</span>
        <span class="cl-badge cl0">CL0</span>
      </summary>
      <div class="process-content">
        <table class="process-table">
          <thead>
            <tr>
              <th style="width: 80px;">BP</th>
              <th style="width: 20%;">Base Practice</th>
              <th style="width: 25%;">Questions d'audit</th>
              <th style="width: 25%;">√âvidences attendues</th>
              <th style="width: 70px;">PA1.1</th>
              <th style="width: 70px;">PA2.1</th>
              <th style="width: 70px;">PA2.2</th>
              <th>Commentaire</th>
            </tr>
          </thead>
          <tbody>
            <!-- Contenu √† ajouter -->
             <tr><td>BP1</td><td>Identifier anomalies</td><td>Enregistrement complet outil ?</td><td>Tickets + logs/captures</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP2</td><td>Classer/prioriser</td><td>Sev√©rit√©/priorit√©/impact ?</td><td>Champs ticket + r√®gles</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP3</td><td>RCA</td><td>5-Why/Ishikawa/Pareto ?</td><td>Formulaires RCA</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP4</td><td>Correction trac√©e</td><td>Commit‚ÜíMR‚Üíreview‚Üímerge ?</td><td>Change logs</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP5</td><td>V√©rifier & re-tester</td><td>Re-test unitaire/int√©gration/r√©gression ?</td><td>Rapports CI/CD</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>
<tr><td>BP6</td><td>Cl√¥ture & capitalisation</td><td>Conditions de cl√¥ture + lessons learned ?</td><td>Ticket closed, LL</td><td><select class="pa-select" data-pa="PA11"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA21"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><select class="pa-select" data-pa="PA22"><option value="">‚Äî</option><option>N</option><option>P</option><option>L</option><option>F</option></select></td><td><textarea rows="2"></textarea></td></tr>

          </tbody>
        </table>
        
        <div class="synthesis">
          <h4>üìà Synth√®se du processus SUP.10</h4>
          <div class="synthesis-grid">
            <span class="synthesis-label">PA1.1 Global</span>
            <span class="pa-global" data-pa="PA11">‚Äî</span>
            <span class="synthesis-label">PA2.1 Global</span>
            <span class="pa-global" data-pa="PA21">‚Äî</span>
            <span class="synthesis-label">PA2.2 Global</span>
            <span class="pa-global" data-pa="PA22">‚Äî</span>
            <span class="synthesis-label">Capability Level atteint</span>
            <span class="pa-global cl-result">CL0</span>
          </div>
        </div>
      </div>
    </details>
  </section>

</div>

<script>
// Conversion des valeurs en scores num√©riques
const scoreMap = { 'N': 0, 'P': 1, 'L': 2, 'F': 3 };
const levelMap = { 0: 'N', 1: 'P', 2: 'L', 3: 'F' };

// Fonction pour convertir une moyenne en niveau
function averageToLevel(average) {
  if (average < 0.5) return 'N';
  if (average < 1.5) return 'P';
  if (average < 2.5) return 'L';
  return 'F';
}

// Fonction pour calculer le niveau CL
function calculateCL(pa11, pa21, pa22) {
  if (pa11 === 'F' && (pa21 === 'L' || pa21 === 'F') && (pa22 === 'L' || pa22 === 'F')) {
    return 'CL2';
  }
  if (pa11 === 'L' || pa11 === 'F') {
    return 'CL1';
  }
  return 'CL0';
}

// Fonction pour recalculer les PA globaux d'un processus
function updateProcessCalculations(processElement) {
  const processId = processElement.dataset.process;
  const selects = processElement.querySelectorAll('.pa-select');
  
  // Grouper les s√©lecteurs par PA
  const paGroups = { 'PA11': [], 'PA21': [], 'PA22': [] };
  
  selects.forEach(select => {
    const paType = select.dataset.pa;
    if (paGroups[paType]) {
      paGroups[paType].push(select);
    }
  });
  
  // Calculer les moyennes pour chaque PA
  const paResults = {};
  
  Object.keys(paGroups).forEach(paType => {
    const values = paGroups[paType]
      .map(select => select.value)
      .filter(value => value && value !== '‚Äî')
      .map(value => scoreMap[value]);
    
    if (values.length > 0) {
      const average = values.reduce((sum, val) => sum + val, 0) / values.length;
      paResults[paType] = averageToLevel(average);
    } else {
      paResults[paType] = '‚Äî';
    }
  });
  
  // Mettre √† jour l'affichage des PA globaux
  const paGlobals = processElement.querySelectorAll('.pa-global[data-pa]');
  paGlobals.forEach(element => {
    const paType = element.dataset.pa;
    const result = paResults[paType] || '‚Äî';
    element.textContent = result;
    
    // Mettre √† jour les classes CSS
    element.className = 'pa-global';
    if (result !== '‚Äî') {
      element.classList.add(result.toLowerCase());
    }
  });
  
  // Calculer et afficher le niveau CL
  const clLevel = calculateCL(paResults.PA11, paResults.PA21, paResults.PA22);
  
  // Mettre √† jour le badge dans le summary
  const clBadge = processElement.querySelector('summary .cl-badge');
  if (clBadge) {
    clBadge.textContent = clLevel;
    clBadge.className = `cl-badge ${clLevel.toLowerCase()}`;
  }
  
  // Mettre √† jour le r√©sultat CL dans la synth√®se
  const clResult = processElement.querySelector('.cl-result');
  if (clResult) {
    clResult.textContent = clLevel;
    clResult.className = `pa-global cl-result ${clLevel.toLowerCase()}`;
  }
  
  // Sauvegarder dans localStorage
  saveProcessState(processId, { paResults, clLevel, selects: getSelectValues(selects) });
}

// Fonction pour obtenir les valeurs des s√©lecteurs
function getSelectValues(selects) {
  const values = {};
  selects.forEach((select, index) => {
    values[index] = select.value;
  });
  return values;
}

// Fonction pour sauvegarder l'√©tat d'un processus
function saveProcessState(processId, state) {
  localStorage.setItem(`aspice:${processId}`, JSON.stringify(state));
}

// Fonction pour charger l'√©tat d'un processus
function loadProcessState(processId) {
  const saved = localStorage.getItem(`aspice:${processId}`);
  return saved ? JSON.parse(saved) : null;
}

// Fonction pour restaurer les valeurs sauvegard√©es
function restoreProcessValues(processElement) {
  const processId = processElement.dataset.process;
  const saved = loadProcessState(processId);
  
  if (saved && saved.selects) {
    const selects = processElement.querySelectorAll('.pa-select');
    selects.forEach((select, index) => {
      if (saved.selects[index]) {
        select.value = saved.selects[index];
      }
    });
    
    // Recalculer apr√®s restauration
    updateProcessCalculations(processElement);
  }
}

// Fonction pour d√©plier tous les processus
function expandAll() {
  document.querySelectorAll('details').forEach(details => {
    details.open = true;
  });
}

// Fonction pour replier tous les processus
function collapseAll() {
  document.querySelectorAll('details').forEach(details => {
    details.open = false;
  });
}

// Initialisation au chargement de la page
document.addEventListener('DOMContentLoaded', function() {
  // Restaurer les valeurs sauvegard√©es
  document.querySelectorAll('.process').forEach(processElement => {
    restoreProcessValues(processElement);
  });
  
  // Ajouter les √©couteurs d'√©v√©nements pour les s√©lecteurs
  document.addEventListener('change', function(event) {
    if (event.target.classList.contains('pa-select')) {
      const processElement = event.target.closest('.process');
      if (processElement) {
        updateProcessCalculations(processElement);
      }
    }
  });
  
  // G√©rer les liens d'ancrage
  document.querySelectorAll('.toc a').forEach(link => {
    link.addEventListener('click', function(event) {
      event.preventDefault();
      const targetId = this.getAttribute('href').substring(1);
      const targetElement = document.getElementById(targetId);
      if (targetElement) {
        targetElement.scrollIntoView({ behavior: 'smooth' });
        // Ouvrir le d√©tail si ferm√©
        const details = targetElement.querySelector('details');
        if (details && !details.open) {
          details.open = true;
        }
      }
    });
  });
});
</script>
<!-- Removed third-party injected iframe/script that could trigger CSP or runtime errors -->
<script>
/* ====== 5) UTILITAIRES G√âN√âRAUX ====== */
const mapScores = {N:0, P:1, L:2, F:3}; // (r√©utilisable si besoin)

/* Donne un name unique √† chaque select/textarea sans rien modifier √† la main */
function assignNames() {
  document.querySelectorAll('section.process').forEach(section => {
    const proc = section.dataset.process || 'PROC';
    section.querySelectorAll('tbody tr').forEach((tr, rIdx) => {
      // PA1.1 / PA2.1 / PA2.2
      tr.querySelectorAll('select.pa-select').forEach(sel => {
        const pa = sel.dataset.pa || 'PAxx';
        sel.name = `${proc}__r${rIdx}__${pa}`;
      });
      // Commentaire (textarea en derni√®re colonne)
      const ta = tr.querySelector('textarea');
      if (ta) ta.name = `${proc}__r${rIdx}__CMT`;
    });
  });
}

/* ====== 5A) SAUVEGARDE / RESTAURATION LOCALE (localStorage) ====== */
const LS_KEY = 'aspice_assessment_v1';
function getTimestamp() {
  const d = new Date();
  const pad = n => String(n).padStart(2,'0');
  return `${d.getFullYear()}-${pad(d.getMonth()+1)}-${pad(d.getDate())}_${pad(d.getHours())}-${pad(d.getMinutes())}`;
}

function saveProgress() {
  assignNames(); // s‚Äôassure que tous les champs sont nomm√©s
  const data = {};
  document.querySelectorAll('select.pa-select, textarea').forEach(el => {
    if (el.name) data[el.name] = el.value;
  });
  localStorage.setItem(LS_KEY, JSON.stringify(data));
  alert('‚úÖ √âvaluation sauvegard√©e en local.');
}

function loadProgress() {
  const raw = localStorage.getItem(LS_KEY);
  if (!raw) { alert("‚ö†Ô∏è Aucune sauvegarde locale trouv√©e."); return; }
  const data = JSON.parse(raw);
  let applied = 0;
  document.querySelectorAll('select.pa-select, textarea').forEach(el => {
    if (el.name && data.hasOwnProperty(el.name)) {
      el.value = data[el.name];
      el.dispatchEvent(new Event('change', { bubbles:true })); // pour recalculer CL
      applied++;
    }
  });
  alert(`‚úÖ Restauration termin√©e (${applied} champs recharg√©s).`);
}

/* ====== 5B) EXPORT / IMPORT JSON (partage/archivage) ====== */
/*function exportJSON() {
  assignNames();
  const data = {};
  document.querySelectorAll('select.pa-select, textarea').forEach(el => {
    if (el.name) data[el.name] = el.value;
  });
  const blob = new Blob([JSON.stringify(data, null, 2)], {type:'application/json'});
  const a = document.createElement('a');
  a.href = URL.createObjectURL(blob);
  a.download = 'ASPICE_Assessment.json';
  a.click();
  URL.revokeObjectURL(a.href);
}*/
function exportJSON() {
  assignNames();
  const data = {};
  document.querySelectorAll('select.pa-select, textarea').forEach(el => {
    if (el.name) data[el.name] = el.value;
  });
  const blob = new Blob([JSON.stringify(data, null, 2)], { type:'application/json' });
  const a = document.createElement('a');
  a.href = URL.createObjectURL(blob);
  a.download = `ASPICE_Assessment_${getTimestamp()}.json`;
  a.click();
  URL.revokeObjectURL(a.href);
}

function importJSON(evt) {
  const file = evt.target.files && evt.target.files[0];
  if (!file) return;
  const reader = new FileReader();
  reader.onload = () => {
    try {
      const data = JSON.parse(reader.result);
      assignNames();
      let applied = 0;
      document.querySelectorAll('select.pa-select, textarea').forEach(el => {
        if (el.name && data.hasOwnProperty(el.name)) {
          el.value = data[el.name];
          el.dispatchEvent(new Event('change', { bubbles:true }));
          applied++;
        }
      });
      alert(`‚úÖ Import JSON appliqu√© (${applied} champs).`);
    } catch(e) {
      alert('‚ùå Fichier JSON invalide.');
    }
    // reset input pour pouvoir recharger le m√™me fichier si besoin
    evt.target.value = '';
  };
  reader.readAsText(file);
}

/* ====== 5C) EXPORT EXCEL (1 onglet par processus) ====== */
function exportToExcel() {
  // n√©cessite la balise <script xlsx> ajout√©e dans <head>
  const workbook = XLSX.utils.book_new();

  document.querySelectorAll('section.process').forEach(section => {
    const proc = (section.dataset.process || 'Process').replaceAll('.', '_');
    const rows = [];
    // En-t√™te
    rows.push([
      'ID BP','Base Practice','Question','√âvidences',
      'PA1.1','PA2.1','PA2.2','Commentaire','PA1.1 Global','PA2.1 Global','PA2.2 Global','CL Process'
    ]);

    // Lignes BP
    section.querySelectorAll('tbody tr').forEach(tr => {
      const tds = tr.querySelectorAll('td');
      const bpId   = (tds[0]?.textContent || '').trim();
      const bpName = (tds[1]?.textContent || '').trim();
      const q      = (tds[2]?.textContent || '').trim();
      const ev     = (tds[3]?.textContent || '').trim();

      const pa11 = tr.querySelector('select.pa-select[data-pa="PA11"]')?.value || '';
      const pa21 = tr.querySelector('select.pa-select[data-pa="PA21"]')?.value || '';
      const pa22 = tr.querySelector('select.pa-select[data-pa="PA22"]')?.value || '';
      const cmt  = tr.querySelector('textarea')?.value || '';

      rows.push([bpId, bpName, q, ev, pa11, pa21, pa22, cmt, '', '', '', '']);
    });

    // Synth√®se (lis depuis la section)
    const pa11g = section.querySelector('.pa-global[data-pa="PA11"]')?.textContent?.trim() || '';
    const pa21g = section.querySelector('.pa-global[data-pa="PA21"]')?.textContent?.trim() || '';
    const pa22g = section.querySelector('.pa-global[data-pa="PA22"]')?.textContent?.trim() || '';
    const cl    = section.querySelector('.cl-badge')?.textContent?.trim() || '';

    rows.push([]);
    rows.push(['', '', 'Synth√®se du processus', '', '', '', '', '', pa11g, pa21g, pa22g, cl]);

    const sheet = XLSX.utils.aoa_to_sheet(rows);
    XLSX.utils.book_append_sheet(workbook, sheet, proc.substring(0,31)); // 31 chars max pour Excel
  });

  XLSX.writeFile(workbook, 'ASPICE_Assessment.xlsx');
}

/* ====== 5D) INITIALISATION ====== */
/* Appelle assignNames au chargement pour nommer les champs selon DOM actuel */
document.addEventListener('DOMContentLoaded', () => {
  assignNames();

  // Si ton script de calcul CL utilise des events 'change',
  // rien √† faire ici : save/load/import d√©clenchent d√©j√† 'change'.
});
</script>
<script>
function resetForm() {
  if (!confirm("‚ö†Ô∏è Cette action va vider toutes les valeurs du formulaire.\nContinuer ?")) return;

  // R√©initialise tous les selects
  document.querySelectorAll("select.pa-select").forEach(sel => {
    sel.value = "";
    sel.dispatchEvent(new Event('change', { bubbles:true }));
  });

  // R√©initialise toutes les zones commentaire
  document.querySelectorAll("textarea").forEach(ta => {
    ta.value = "";
  });

  // Recalcul synth√®ses
  document.querySelectorAll("section.process").forEach(section => {
    section.dispatchEvent(new Event('change', { bubbles:true }));
  });

  alert("‚úÖ Formulaire r√©initialis√© (donn√©es locales non effac√©es).");
}
</script>
<script>
  // --- 1. R√©cup√©rer les infos de la page actuelle ---

  function collectAssessmentFromPage() {
    const processes = [];

    document.querySelectorAll("section.process").forEach(section => {
      const id = section.dataset.process || section.id || "Processus";
      const summary = section.querySelector("summary");
      const title = summary ? summary.textContent.trim() : id;

      const pa11 = section.querySelector('.pa-global[data-pa="PA11"]')?.textContent.trim() || "";
      const pa21 = section.querySelector('.pa-global[data-pa="PA21"]')?.textContent.trim() || "";
      const pa22 = section.querySelector('.pa-global[data-pa="PA22"]')?.textContent.trim() || "";

      const clBadge = section.querySelector(".cl-badge");
      const clText = clBadge ? clBadge.textContent.trim() : "CL0";
      const clNum = parseInt(clText.replace(/[^\d]/g, ""), 10) || 0;

      processes.push({
        id,
        title,
        pa11,
        pa21,
        pa22,
        clText,
        clNum
      });
    });

    return processes;
  }

  function countGlobalPALevels(processes) {
    const counts = { F: 0, L: 0, P: 0, N: 0 };

    processes.forEach(p => {
      [p.pa11, p.pa21, p.pa22].forEach(v => {
        const val = (v || "").trim().toUpperCase();
        if (["F", "L", "P", "N"].includes(val)) {
          counts[val]++;
        }
      });
    });

    return counts;
  }

  function countCL(processes) {
    const clCounts = { 0: 0, 1: 0, 2: 0, 3: 0 };
    processes.forEach(p => {
      const n = p.clNum || 0;
      if (clCounts[n] !== undefined) {
        clCounts[n]++;
      }
    });
    return clCounts;
  }

  function paColor(level) {
    const v = (level || "").toUpperCase();
    if (v === "F") return "#22c55e";  // vert
    if (v === "L") return "#eab308";  // jaune
    if (v === "P") return "#f97316";  // orange
    if (v === "N") return "#ef4444";  // rouge
    return "#f3f4f6";                 // gris
  }

  function paTextColor(level) {
    const v = (level || "").toUpperCase();
    if (!v || v === "-") return "#6b7280";
    return "#ffffff";
  }

  function clColor(cl) {
    if (cl === 1) return "#22c55e";
    if (cl === 2) return "#3b82f6";
    if (cl === 3) return "#8b5cf6";
    return "#6b7280";
  }

  function escapeHTML(text) {
    if (!text) return "";
    return text
      .replace(/&/g, "&amp;")
      .replace(/</g, "&lt;")
      .replace(/>/g, "&gt;")
      .replace(/"/g, "&quot;");
  }

// --- 2. G√©n√©rer le HTML complet du rapport ---
function buildAssessmentReportHTML() {
  var processes = collectAssessmentFromPage();
  var totalProcesses = processes.length;

  var globalCounts = countGlobalPALevels(processes);
  var clCounts = countCL(processes);

  var currentDate = new Date().toLocaleDateString('fr-FR');
  var currentTime = new Date().toLocaleTimeString('fr-FR');

  // Commentaire global
  var globalCommentsRaw = (document.getElementById('globalComments') && document.getElementById('globalComments').value.trim()) || '';
  var defaultComments = 'Observations g√©n√©rales : √† compl√©ter.\n\nPoints forts : √† compl√©ter.\n\nPoints faibles / risques : √† compl√©ter.\n\nRecommandations prioritaires : √† compl√©ter.';
  var globalComments = globalCommentsRaw || defaultComments;

  // Donn√©es pour le graphe CL
  var clLabels = processes.map(function(p){ return p.id; });
  var clData = processes.map(function(p){ return p.clNum || 0; });

  // Cartes HTML pour la r√©partition des CL
  var clStatsCardsArr = [0,1,2,3].map(function(cl){
    if (!clCounts[cl]) return '';
    var colors = ['#6b7280','#22c55e','#3b82f6','#8b5cf6'];
    return '<div class="stat-card">' +
             '<h3 style="color:' + colors[cl] + ';">Niveau CL' + cl + '</h3>' +
             '<p style="color:' + colors[cl] + ';">' + clCounts[cl] + '</p>' +
           '</div>';
  });
  var clStatsCards = clStatsCardsArr.join('');

  // Tableau des processus
  var processTable = '';
  processTable += '<table style="width: 100%; border-collapse: collapse; margin: 20px 0;">' +
    '<thead>' +
      '<tr style="background-color: #f8fafc; border: 2px solid #334155;">' +
        '<th style="border: 1px solid #334155; padding: 12px; text-align: left;">Processus</th>' +
        '<th style="border: 1px solid #334155; padding: 12px; text-align: center;">PA1.1</th>' +
        '<th style="border: 1px solid #334155; padding: 12px; text-align: center;">PA2.1</th>' +
        '<th style="border: 1px solid #334155; padding: 12px; text-align: center;">PA2.2</th>' +
        '<th style="border: 1px solid #334155; padding: 12px; text-align: center;">CL</th>' +
      '</tr>' +
    '</thead>' +
    '<tbody>';

  processes.forEach(function(proc){
    processTable += '<tr>' +
      '<td style="border: 1px solid #334155; padding: 8px; font-weight: bold;">' +
        escapeHTML(proc.id + ' ‚Äì ' + proc.title) +
      '</td>';

    var rowPA = [proc.pa11 || '-', proc.pa21 || '-', proc.pa22 || '-'];
    rowPA.forEach(function(val){
      var bg = paColor(val);
      var fg = paTextColor(val);
      processTable += '<td style="border: 1px solid #334155; padding: 8px; text-align: center; background-color: ' + bg + '; color: ' + fg + '; font-weight: bold;">' +
                       (val || '-') +
                      '</td>';
    });

    var clBg = clColor(proc.clNum);
    processTable += '<td style="border: 1px solid #334155; padding: 8px; text-align: center; background-color: ' + clBg + '; color: #ffffff; font-weight: bold;">' +
                      'CL' + (proc.clNum || 0) +
                    '</td>' +
                  '</tr>';
  });

  processTable += '</tbody></table>';

  // Construire le HTML du rapport sans utiliser de backticks
  var htmlParts = [];

  htmlParts.push("<!DOCTYPE html><html lang=\"fr\"><head><meta charset=\"UTF-8\"><title>Rapport d'Assessment ASPICE ‚Äì Synth√®se</title><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">");
  htmlParts.push('<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"><\/script>');
  htmlParts.push('<style>');
  htmlParts.push('body{font-family:Arial, sans-serif;margin:40px;line-height:1.6;background:#f9fafb;}');
  htmlParts.push('.header{text-align:center;margin-bottom:40px;padding:20px;color:white;border-radius:12px;background:linear-gradient(135deg,#1e40af,#7c3aed);}');
  htmlParts.push('.header h1{margin:0 0 10px 0;font-size:28px;} .header h2{margin:0;font-size:18px;opacity:0.9;}');
  htmlParts.push('.header-info{margin-top:20px;display:flex;flex-wrap:wrap;justify-content:center;gap:30px;font-size:14px;}');
  htmlParts.push('.section{margin:30px 0;} .section h2{font-size:22px;margin-bottom:10px;color:#111827;}');
  htmlParts.push('.stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(210px,1fr));gap:20px;margin:20px 0;}');
  htmlParts.push('.stat-card{padding:15px;border-radius:10px;background:white;border:1px solid #e5e7eb;box-shadow:0 2px 4px rgba(15,23,42,0.06);}');
  htmlParts.push('.stat-card h3{margin:0 0 6px 0;font-size:14px;color:#4b5563;} .stat-card p{margin:0;font-size:24px;font-weight:bold;}');
  htmlParts.push('.legend{display:flex;gap:15px;margin:20px 0;flex-wrap:wrap;font-size:13px;}');
  htmlParts.push('.legend-item{display:flex;align-items:center;gap:6px;} .legend-color{width:16px;height:16px;border-radius:4px;}');
  htmlParts.push('.comments-box{border:1px solid #e5e7eb;border-radius:8px;background:#f9fafb;padding:12px 14px;font-size:14px;white-space:normal;}');
  htmlParts.push('.chart-container{margin-top:20px;background:white;border-radius:10px;border:1px solid #e5e7eb;padding:16px;box-shadow:0 2px 4px rgba(15,23,42,0.06);}');
  htmlParts.push('@media print{body{margin:20px;background:white;} .stat-card,.chart-container{box-shadow:none;}}');
  htmlParts.push('</style></head><body>');

  htmlParts.push("<div class=\"header\"><h1>üéØ Rapport d'Assessment Automotive SPICE</h1>");
  htmlParts.push('<h2>Synth√®se des r√©sultats ‚Äì PAM 4.0 (Cible CL2)</h2>');
  htmlParts.push('<div class="header-info"><div><strong>Date du rapport :</strong> ' + currentDate + '<br><strong>Heure :</strong> ' + currentTime + '</div>');
  htmlParts.push('<div><strong>Nb de processus √©valu√©s :</strong> ' + totalProcesses + '</div></div></div>');

  htmlParts.push('<div class="section"><h2>üìä Grille d\'√©valuation (PA1.1 / PA2.1 / PA2.2 / CL)</h2>');
  htmlParts.push(processTable);
  htmlParts.push('<div class="legend">');
  htmlParts.push('<div class="legend-item"><div class="legend-color" style="background-color:#ef4444;"></div><span><strong>N</strong> ‚Äì Not achieved (0‚Äì15%)</span></div>');
  htmlParts.push('<div class="legend-item"><div class="legend-color" style="background-color:#f97316;"></div><span><strong>P</strong> ‚Äì Partially achieved (15‚Äì50%)</span></div>');
  htmlParts.push('<div class="legend-item"><div class="legend-color" style="background-color:#eab308;"></div><span><strong>L</strong> ‚Äì Largely achieved (50‚Äì85%)</span></div>');
  htmlParts.push('<div class="legend-item"><div class="legend-color" style="background-color:#22c55e;"></div><span><strong>F</strong> ‚Äì Fully achieved (85‚Äì100%)</span></div>');
  htmlParts.push('</div></div>');

  htmlParts.push('<div class="section"><h2>üìà Statistiques globales</h2><div class="stats-grid">');
  htmlParts.push('<div class="stat-card"><h3>Processus √©valu√©s</h3><p style="color:#3b82f6;">' + totalProcesses + '</p></div>');
  htmlParts.push('<div class="stat-card"><h3>PA compl√®tement atteints (F)</h3><p style="color:#22c55e;">' + globalCounts.F + '</p></div>');
  htmlParts.push('<div class="stat-card"><h3>PA largement atteints (L)</h3><p style="color:#eab308;">' + globalCounts.L + '</p></div>');
  htmlParts.push('<div class="stat-card"><h3>PA partiels (P)</h3><p style="color:#f97316;">' + globalCounts.P + '</p></div>');
  htmlParts.push('<div class="stat-card"><h3>PA non atteints (N)</h3><p style="color:#ef4444;">' + globalCounts.N + '</p></div>');
  htmlParts.push('</div></div>');

  htmlParts.push('<div class="section"><h2>üéØ R√©partition des niveaux de capacit√© (CL)</h2><div class="stats-grid">' + clStatsCards + '</div>');
  htmlParts.push('<div class="chart-container"><h3 style="margin-top:0;margin-bottom:8px;font-size:16px;">Graphique CL par processus</h3><canvas id="clProcessChart" height="120"></canvas></div></div>');

  htmlParts.push('<div class="section"><h2>üí¨ Commentaires et observations</h2><p style="font-size:13px;color:#6b7280;">(Commentaires saisis dans la page principale.)</p>');
  htmlParts.push('<div class="comments-box">' + escapeHTML(globalComments).replace(/\n/g, '<br>') + '</div></div>');

  htmlParts.push('<div class="section" style="margin-top:40px;padding-top:15px;border-top:1px solid #e5e7eb;"><p style="text-align:center;font-size:12px;color:#6b7280;">G√©n√©r√© automatiquement √† partir de la check-list ASPICE sur ' + currentDate + '.<br>Mod√®le inspir√© du rapport ASPICE PAM 4.0.</p></div>');

  // Script du graphe CL (inclus en clair, clLabels/clData sont pass√©s comme JSON)
  htmlParts.push('<script>(function(){var labels=' + JSON.stringify(clLabels) + ';var data=' + JSON.stringify(clData) + ';var ctx=document.getElementById("clProcessChart");if(ctx&&window.Chart){new Chart(ctx,{type:"bar",data:{labels:labels,datasets:[{label:"Capability Level",data:data}]},options:{responsive:true,plugins:{legend:{display:false}},scales:{y:{beginAtZero:true,ticks:{stepSize:1,callback:function(v){return "CL"+v;}},title:{display:true,text:"Niveau de capacit√©"}},x:{ticks:{autoSkip:false,maxRotation:60,minRotation:0}}}}});}})();<\/script>');

  htmlParts.push('</body></html>');

  return htmlParts.join('');
}


  // --- 3. Fonction appel√©e par le bouton ---

  function exportAssessmentReport() {
    const processes = collectAssessmentFromPage();
    if (!processes.length) {
      alert("Aucun processus trouv√© dans la page (section.process).");
      return;
    }

    const reportHTML = buildAssessmentReportHTML();
    const win = window.open("", "_blank");

    if (win) {
      win.document.write(reportHTML);
      win.document.close();
    } else {
      const blob = new Blob([reportHTML], { type: "text/html;charset=utf-8" });
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = "rapport-assessment-aspice.html";
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
    }
  }
</script>

<section id="global-comments-panel" class="global-comments-panel">
  <h2>üí¨ Commentaires et observations (global)</h2>
  <p class="help-text">
    commentaire
  </p>
  <textarea id="globalComments" rows="8"
    placeholder="Ex :&#10;- Observations g√©n√©rales : ...&#10;- Points forts : ...&#10;- Points faibles / risques : ...&#10;- Recommandations prioritaires : ..."></textarea>
</section>

</body>
</html>
